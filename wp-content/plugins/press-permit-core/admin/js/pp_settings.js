jQuery(document).ready(function(t){var p=function(){t("#pp-install .waiting").hide(),t("#pp-install .button-secondary").prop("disabled",!1)},a=function(t){return"object"==typeof t&&t instanceof Array},e=function(e,i){p();var n="",s=jQuery.parseJSON(ppSettings.keyStatus.replace(/&quot;/g,'"'));a(e)&&void 0!==e[0]?jQuery.inArray(e[0],s)?(n=s[e[0]],1==e[0]?(ppSettings.activated=1,t("#pp-install #activation-button").html(ppSettings.deactivateCaption),t("#pp-install #renewal-button").hide(),t("#pp-install #support_key").hide(),t("#pp-install .pp-key-active").show(),t("#pp-install .pp-key-expired").hide(),t("#pp-install .pp-update-link").show()):-1==e[0]?(ppSettings.activated=1,ppSettings.expired=1,t("#pp-install #activation-button").html(ppSettings.deactivateCaption),t("#pp-install #renewal-button").show(),t("#pp-install #support_key").show(),t("#pp-install .pp-key-active").hide(),t("#pp-install .pp-key-expired").show(),t("#pp-install .pp-update-link").show()):(ppSettings.activated=0,t("#pp-install #activation-button").html(ppSettings.activateCaption),t("#pp-install #support_key").show(),t("#pp-install #support_key").val(""),t("span.pp-key-active").hide(),t("span.pp-key-expired").hide(),t("span.pp-key-warning").hide(),t("span.pp-update-link").hide())):n=ppSettings.errCaption:(n=ppSettings.errCaption,t("#pp-install .pp-key-active").hide(),t("#pp-install .pp-key-expired").hide()),t("#pp-install #activation-status").html(n).show(),1==e[0]&&t("#pp-install #activation-reload").show()},i=function(a,e){p(),t("#pp-install #activation-status").html(ppSettings.noConnectCaption)};t("#pp-install_table #activation-button").bind("click",function(a){if(t(this).closest("td").find(".waiting").show(),t(this).prop("disabled",!0),a.preventDefault(),a.stopPropagation(),console.debug(ppSettings),1==ppSettings.activated){s={pp_ajax_settings:"deactivate_key"};t.ajax({url:ppSettings.deactivateURL,data:s,dataType:"json",cache:!1,success:e,error:i})}else{var n=jQuery.trim(t("#pp-install #support_key").val());if(!n)return t("#pp-install #activation-status").html(ppSettings.noEntryCaption),void p();var s={pp_ajax_settings:"activate_key",key:n};t.ajax({url:ppSettings.activateURL,data:s,dataType:"json",cache:!1,success:e,error:i})}}),t("#pp-install_table #renewal-button").bind("click",function(p){p.preventDefault(),p.stopPropagation();var a={pp_ajax_settings:"refresh_version"};t.ajax({url:ppSettings.renewURL,data:a,dataType:"json",success:e,error:i})});var n=function(t,p){};t('input[name="pp_submit"]').bind("click",function(a){if(t("a.pp-install").closest("li").hasClass("agp-selected_agent")){t("#pp_support_waiting").show();var e={pp_ajax_settings:"refresh_version"};t.ajax({url:ppSettings.refreshURL,data:e,async:!1,dataType:"json",cache:!1,success:n,error:n}),p()}}),t("#pp_support_data_all").click(function(p){t('#pp-install_table div.support_data input[disabled!="disabled"]').prop("checked",t(this).is(":checked"))}),t('div.support_data input[type="checkbox"]').change(function(){t("li.upload-config a, li.pp-support-forum a").bind("click",!1).css("color","#777").css("text-decoration","none"),t("li.upload-config a").html(ppSettings.supportOptChanged)})});