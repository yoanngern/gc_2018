{"version":3,"sources":["email-notifications/assets/js/admin.js"],"names":["require","undefined","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","mount","document","getElementById","tags","tagOpen","tagClose","updateAvailableEmailTags","fields","mc4wp","forms","editor","query","tagName","getAttribute","toUpperCase","replace","indexOf","push","innerHTML","map","join","window","addEventListener","on","helpers","debounce"],"mappings":"CAAA,WAAe,IAAIA,OAAUC,GAAmC,SAAUC,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAkB,mBAATT,GAAqBA,EAAQ,IAAIQ,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGG,EAAE,OAAOA,EAAEH,GAAE,GAAI,IAAII,EAAE,IAAIC,MAAM,uBAAuBL,EAAE,KAAK,MAAMI,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEV,EAAEG,IAAIQ,YAAYZ,EAAEI,GAAG,GAAGS,KAAKF,EAAEC,QAAQ,SAASb,GAAG,IAAIE,EAAED,EAAEI,GAAG,GAAGL,GAAG,OAAOI,EAAEF,GAAIF,IAAIY,EAAEA,EAAEC,QAAQb,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGQ,QAAkD,IAA1C,IAAIL,EAAkB,mBAATV,GAAqBA,EAAgBO,EAAE,EAAEA,EAAEF,EAAEY,OAAOV,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAAvb,EAA4bY,GAAG,SAASlB,EAAQmB,EAAOJ,GACvhB,aAEA,IAAIK,EAAQC,SAASC,eAAe,+BAChCC,KACAC,EAAU,IACVC,EAAW,IAEf,SAASC,IACR,IAAIC,EAASC,MAAMC,MAAMC,OAAOC,MAAM,UACtCR,GAAQ,SAER,IAAK,IAAIb,EAAI,EAAGA,EAAIiB,EAAOV,OAAQP,IAAK,CAEvC,IAAIsB,EAAUL,EAAOjB,GAAGuB,aAAa,QAAQC,cAI7CF,EAAUA,EAAQG,QAAQ,KAAM,IAAIA,QAAQ,YAAa,OAErDZ,EAAKa,QAAQJ,GAAW,GAC3BT,EAAKc,KAAKL,GAIZZ,EAAMkB,UAAYf,EAAKgB,IAAI,SAAUP,GACpC,MAAO,uHAAyHR,EAAUQ,EAAUP,EAAW,SAC7Je,KAAK,KAGTC,OAAOC,iBAAiB,OAAQ,WAC/Bd,MAAMC,MAAMC,OAAOa,GAAG,SAAUf,MAAMgB,QAAQC,SAASnB,EAA0B,MACjFA,gBAGU,IAnCX","file":"admin.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar mount = document.getElementById('email-message-template-tags');\nvar tags = [];\nvar tagOpen = '[';\nvar tagClose = ']';\n\nfunction updateAvailableEmailTags() {\n\tvar fields = mc4wp.forms.editor.query('[name]');\n\ttags = ['_ALL_'];\n\n\tfor (var i = 0; i < fields.length; i++) {\n\n\t\tvar tagName = fields[i].getAttribute('name').toUpperCase();\n\n\t\t// strip empty arrays []\n\t\t// add in semicolon for named array keys\n\t\ttagName = tagName.replace('[]', '').replace(/\\[(\\w+)\\]/, ':$1');\n\n\t\tif (tags.indexOf(tagName) < 0) {\n\t\t\ttags.push(tagName);\n\t\t}\n\t}\n\n\tmount.innerHTML = tags.map(function (tagName) {\n\t\treturn '<input readonly style=\"background: transparent; border: 0;\" onclick=\"this.select();\" onfocus=\"this.select()\" value=\"' + tagOpen + tagName + tagClose + '\" />';\n\t}).join(' ');\n}\n\nwindow.addEventListener('load', function () {\n\tmc4wp.forms.editor.on('change', mc4wp.helpers.debounce(updateAvailableEmailTags, 1000));\n\tupdateAvailableEmailTags();\n});\n\n},{}]},{},[1]);\n })();"]}