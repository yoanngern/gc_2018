{"version":3,"sources":["styles-builder/assets/js/styles-builder.js"],"names":["require","undefined","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length","1","module","AccordionElement","element","this","heading","querySelector","content","setAttribute","style","display","addEventListener","toggle","bind","prototype","open","close","show","offsetParent","className","2","Accordion","accordionElements","accordions","children","tagName","toUpperCase","acEl","push","./_accordion-element.js","3","lightenColor","col","amt","usePound","slice","num","parseInt","b","g","String","toString","Option","$","window","jQuery","FormPreview","context","init","$form","$context","contents","find","$elements","form","labels","fields","choices","buttons","messages","css","focus","setFieldFocusStyles","focusout","setDefaultFieldStyles","hover","setButtonHoverStyles","setDefaultButtonStyles","createOptions","optionElements","document","querySelectorAll","options","id","applyStyles","margin-right","text-align","cursor","padding","text-shadow","box-sizing","line-height","vertical-align","max-width","getPxOrPercentageValue","getValue","font-size","getPxValue","color","getColorValue","background-color","border-color","border-width","bgRepeat","property","indexOf","margin-bottom","labelsFontStyle","font-weight","font-style","border-radius","height","background-image","filter","hoverColor","setValue","html","on","wpColorPicker","change","setTimeout","clear","./_option.js","4","$element","value","trim","fallback","substring","5","preview","$imageUploadTarget","accordion","iframeElement","getElementById","original_send_to_editor","send_to_editor","load","click","$generatedCss","text","is","parents","submit","siblings","tb_show","checkValidity","imgurl","attr","val","tb_remove","./_accordion.js","./_form-preview.js"],"mappings":"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","file":"styles-builder.min.js","sourcesContent":["(function () { var require = undefined; var define = undefined; (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nfunction AccordionElement(element) {\n    this.element = element;\n    this.heading = element.querySelector('h2, h3, h4');\n    this.content = element.querySelector('div');\n\n    element.setAttribute('class','accordion');\n    this.heading.setAttribute('class','accordion-heading');\n    this.content.setAttribute('class','accordion-content');\n    this.content.style.display = 'none';\n    this.heading.addEventListener('click', this.toggle.bind(this));\n}\n\n/**\n * Open this accordion\n */\nAccordionElement.prototype.open = function() {\n    this.toggle(true);\n};\n\n/**\n * Close this accordion\n */\nAccordionElement.prototype.close = function() {\n    this.toggle(false);\n};\n\n/**\n * Toggle this accordion\n *\n * @param show\n */\nAccordionElement.prototype.toggle = function(show) {\n    if( typeof(show) !== \"boolean\" ) {\n        show = ( this.content.offsetParent === null );\n    }\n\n    this.content.style.display = show ? 'block' : 'none';\n    this.element.className = 'accordion ' + ( ( show ) ? 'expanded' : 'collapsed' );\n};\n\nmodule.exports = AccordionElement;\n},{}],2:[function(require,module,exports){\n'use strict';\n\nvar AccordionElement = require('./_accordion-element.js');\n\nfunction Accordion(element) {\n\n\tvar accordions = [],\n\t\taccordionElements;\n\n\t// add class to container\n\telement.className+= \" accordion-container\";\n\n\t// find accordion blocks\n\taccordionElements = element.children;\n\n\t// hide all content blocks\n\tfor( var i=0; i < accordionElements.length; i++) {\n\n\t\t// only act on direct <div> children\n\t\tif( accordionElements[i].tagName.toUpperCase() !== 'DIV' ) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// create new accordion\n\t\tvar acEl = new AccordionElement(accordionElements[i]);\n\n\t\t// add to list of accordions\n\t\taccordions.push(acEl);\n\t}\n\n\t// open first accordion\n\taccordions[0].open();\n}\n\nmodule.exports = Accordion;\n},{\"./_accordion-element.js\":1}],3:[function(require,module,exports){\n'use strict';\n\nvar Option = require('./_option.js'),\n\t$ = window.jQuery;\n\nfunction lightenColor(col, amt) {\n\n\tvar usePound = false;\n\n\tif (col[0] == \"#\") {\n\t\tcol = col.slice(1);\n\t\tusePound = true;\n\t}\n\n\tvar num = parseInt(col,16);\n\n\tvar r = (num >> 16) + amt;\n\n\tif (r > 255) r = 255;\n\telse if  (r < 0) r = 0;\n\n\tvar b = ((num >> 8) & 0x00FF) + amt;\n\n\tif (b > 255) b = 255;\n\telse if  (b < 0) b = 0;\n\n\tvar g = (num & 0x0000FF) + amt;\n\n\tif (g > 255) g = 255;\n\telse if (g < 0) g = 0;\n\n\treturn (usePound?\"#\":\"\") + String(\"000000\" + (g | (b << 8) | (r << 16)).toString(16)).slice(-6);\n}\n\n\nvar FormPreview = function(context) {\n\tvar $context = $(context),\n\t\t$elements;\n\n\t// create option elements\n\tvar options = createOptions();\n\n\t// attach events\n\t$(\".mc4wp-option\").on('input change', applyStyles);\n\t$('.color-field').wpColorPicker({\n\t\tchange: function() {\n\t\t\twindow.setTimeout(applyStyles, 10);\n\t\t},\n\t\tclear: applyStyles\n\t});\n\n\t// initialize form preview\n\tfunction init() {\n\t\tvar $form = $context.contents().find('.mc4wp-form');\n\n\t\t$elements = {\n\t\t\tform: $form,\n\t\t\tlabels: $form.find('label'),\n\t\t\tfields: $form.find('input[type=\"text\"], input[type=\"email\"], input[type=\"url\"], input[type=\"number\"], input[type=\"date\"], select, textarea'),\n\t\t\tchoices: $form.find('input[type=\"radio\"], input[type=\"checkbox\"]'),\n\t\t\tbuttons: $form.find('input[type=\"submit\"], input[type=\"button\"], button'),\n\t\t\tmessages: $form.find('.mc4wp-alert'),\n\t\t\tcss: $context.contents().find('#custom-css')\n\t\t};\n\n\t\t// apply custom styles to fields (focus)\n\t\t$elements.fields.focus(setFieldFocusStyles);\n\t\t$elements.fields.focusout(setDefaultFieldStyles);\n\n\t\t// apply custom styles to buttons (hover)\n\t\t$elements.buttons.hover(setButtonHoverStyles, setDefaultButtonStyles);\n\t}\n\n\t// create option elements from HTML elements\n\tfunction createOptions() {\n\t\tvar optionElements = document.querySelectorAll('.mc4wp-option');\n\t\tvar options = {};\n\n\t\tfor( var i=0; i<optionElements.length; i++ ) {\n\t\t\toptions[ optionElements[i].id ] = new Option( optionElements[i] );\n\t\t}\n\n\t\treturn options;\n\t}\n\n\tfunction clearStyles() {\n\t\t$elements.form.removeAttr('style');\n\t\t$elements.labels.removeAttr('style');\n\t\t$elements.fields.removeAttr('style');\n\t\t$elements.buttons.removeAttr('style');\n\t\t$elements.choices.removeAttr('style');\n\t\t$elements.messages.removeAttr('style');\n\t}\n\n\tfunction applyStyles() {\n\n\t\t$elements.choices.css({\n\t\t\t'display': 'inline-block',\n\t\t\t'margin-right': '6px'\n\t\t});\n\n\t\t$elements.buttons.css({\n\t\t\t\"text-align\": \"center\",\n\t\t\t\"cursor\": \"pointer\",\n\t\t\t\"padding\": \"6px 12px\",\n\t\t\t\"text-shadow\": \"none\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"line-height\": \"normal\",\n\t\t\t\"vertical-align\": \"top\"\n\t\t});\n\n\t\t// apply custom styles to form\n\t\t$elements.form.css({\n\t\t\t'max-width': options[\"form-width\"].getPxOrPercentageValue(),\n\t\t\t'text-align': options[\"form-text-align\"].getValue(),\n\t\t\t'font-size': options[\"form-font-size\"].getPxValue(),\n\t\t\t\"color\": options[\"form-font-color\"].getColorValue(),\n\t\t\t\"background-color\": options[\"form-background-color\"].getColorValue(),\n\t\t\t\"border-color\": options[\"form-border-color\"].getColorValue(),\n\t\t\t\"border-width\": options[\"form-border-width\"].getPxValue(),\n\t\t\t\"padding\": options[\"form-padding\"].getPxValue()\n\t\t});\n\n\t\t// responsive form width\n\t\tif( options[\"form-width\"].getValue().length > 0 ) {\n\t\t\t$elements.form.css('width', '100%');\n\t\t}\n\n\t\t// set background image (if set, otherwise reset)\n\t\tif( options[\"form-background-image\"].getValue().length > 0 ) {\n\t\t\t$elements.form.css('background-image', 'url(\"' + options[\"form-background-image\"].getValue() + '\")');\n\n\t\t\t\n\t\t\tvar bgRepeat = options[\"form-background-repeat\"].getValue();\n\t\t\tvar property = (['cover'].indexOf(bgRepeat) > -1) ? 'background-size' : 'background-repeat';\n\t\t\t$elements.form.css(property, bgRepeat);\n\t\t} else {\n\t\t\t$elements.form.css('background-image', 'initial');\n\t\t\t$elements.form.css('background-repeat','');\n\t\t\t$elements.form.css('background-size','');\n\t\t}\n\n\t\tif( options[\"form-border-width\"].getValue() > 0 ) {\n\t\t\t$elements.form.css( 'border-style', 'solid' );\n\t\t}\n\n\t\t// apply custom styles to labels\n\t\t$elements.labels.css({\n\t\t\t\"margin-bottom\": \"6px\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"vertical-align\": \"top\",\n\t\t\t\"color\": options[\"labels-font-color\"].getColorValue(),\n\t\t\t\"font-size\": options[\"labels-font-size\"].getPxValue(),\n\t\t\t\"display\": options[\"labels-display\"].getValue(),\n\t\t\t\"max-width\": options[\"labels-width\"].getPxOrPercentageValue()\n\t\t});\n\n\t\t// responsive label width\n\t\tif( options[\"labels-width\"].getValue().length > 0 ) {\n\t\t\t$elements.labels.css('width', '100%');\n\t\t}\n\n\t\t// reset font style of <span> elements inside <label> elements\n\t\t$elements.labels.find('span').css('font-weight', 'normal' );\n\n\t\t// only set label text style if it's set\n\t\tvar labelsFontStyle = options[\"labels-font-style\"].getValue();\n\t\tif( labelsFontStyle.length > 0 ) {\n\t\t\t$elements.labels.css({\n\t\t\t\t\"font-weight\": (labelsFontStyle == 'bold' || labelsFontStyle == 'bolditalic') ? 'bold' : 'normal',\n\t\t\t\t\"font-style\": (labelsFontStyle == 'italic' || labelsFontStyle == 'bolditalic') ? 'italic' : 'normal'\n\t\t\t});\n\t\t}\n\n\t\t// apply custom styles to inputs\n\t\t$elements.fields.css({\n\t\t\t\"padding\": '6px 12px',\n\t\t\t\"margin-bottom\": \"6px\",\n\t\t\t\"box-sizing\": \"border-box\",\n\t\t\t\"vertical-align\": \"top\",\n\t\t\t\"border-width\": options[\"fields-border-width\"].getPxValue(),\n\t\t\t\"border-color\": options[\"fields-border-color\"].getColorValue(),\n\t\t\t\"border-radius\": options[\"fields-border-radius\"].getPxValue(),\n\t\t\t\"display\": options[\"fields-display\"].getValue(),\n\t\t\t\"max-width\": options[\"fields-width\"].getPxOrPercentageValue(),\n\t\t\t\"height\": options[\"fields-height\"].getPxValue()\n\t\t});\n\n\t\t// responsive field width\n\t\tif( options[\"fields-width\"].getValue().length > 0 ) {\n\t\t\t$elements.fields.css('width', '100%');\n\t\t}\n\n\t\t// apply custom styles to buttons\n\t\t$elements.buttons.css({\n\t\t\t'border-width': options[\"buttons-border-width\"].getPxValue(),\n\t\t\t'border-color': options[\"buttons-border-color\"].getColorValue(),\n\t\t\t\"border-radius\": options[\"buttons-border-radius\"].getPxValue(),\n\t\t\t'max-width': options[\"buttons-width\"].getValue(),\n\t\t\t'height': options[\"buttons-height\"].getPxValue(),\n\t\t\t'background-color': options[\"buttons-background-color\"].getColorValue(),\n\t\t\t'color': options[\"buttons-font-color\"].getColorValue(),\n\t\t\t'font-size': options[\"buttons-font-size\"].getPxValue()\n\t\t});\n\n\t\t// responsive buttons width\n\t\tif( options[\"buttons-width\"].getValue().length ) {\n\t\t\t$elements.buttons.css('width', '100%');\n\t\t}\n\n\t\t// add border style if border-width is set and bigger than 0\n\t\tif( options[\"buttons-border-width\"].getValue() > 0 ) {\n\t\t\t$elements.buttons.css( 'border-style', 'solid' );\n\t\t}\n\n\t\t// add background reset if custom button background was set\n\t\tif( options[\"buttons-background-color\"].getColorValue().length ) {\n\t\t\t$elements.buttons.css({\n\t\t\t\t\"background-image\": \"none\",\n\t\t\t\t\"filter\": \"none\"\n\t\t\t});\n\n\t\t\t// calculate hover color\n\t\t\tvar hoverColor = lightenColor( options[\"buttons-background-color\"].getColorValue(), -20 );\n\t\t\toptions[\"buttons-hover-background-color\"].setValue(hoverColor);\n\t\t} else {\n\t\t\toptions[\"buttons-hover-background-color\"].setValue('');\n\t\t}\n\n\t\tif( options[\"buttons-border-color\"].getColorValue().length ) {\n\t\t\tvar hoverColor = lightenColor( options[\"buttons-border-color\"].getColorValue(), -20 );\n\t\t\toptions[\"buttons-hover-border-color\"].setValue(hoverColor);\n\t\t} else {\n\t\t\toptions[\"buttons-hover-border-color\"].setValue('');\n\t\t}\n\n\t\t// apply custom styles to messages\n\t\t$elements.messages.filter('.mc4wp-success').css({\n\t\t\t'color': options[\"messages-font-color-success\"].getColorValue()\n\t\t});\n\n\t\t$elements.messages.filter('.mc4wp-error').css({\n\t\t\t'color': options[\"messages-font-color-error\"].getColorValue()\n\t\t});\n\n\t\t// print custom css in container element\n\t\t$elements.css.html(options[\"manual-css\"].getValue());\n\t}\n\n\tfunction setButtonHoverStyles() {\n\t\t// calculate darker color\n\t\t$elements.buttons.css('background-color', options[\"buttons-hover-background-color\"].getColorValue() );\n\t\t$elements.buttons.css('border-color', options[\"buttons-hover-border-color\"].getColorValue() );\n\t}\n\n\tfunction setDefaultButtonStyles() {\n\t\t$elements.buttons.css({\n\t\t\t'border-color': options[\"buttons-border-color\"].getColorValue(),\n\t\t\t'background-color': options[\"buttons-background-color\"].getColorValue()\n\t\t});\n\t}\n\n\tfunction setFieldFocusStyles() {\n\t\tif( options[\"fields-focus-outline-color\"].getColorValue().length ) {\n\t\t\t$elements.fields.css('outline', '2px solid ' + options[\"fields-focus-outline-color\"].getColorValue() );\n\t\t} else {\n\t\t\tsetDefaultFieldStyles();\n\t\t}\n\t}\n\n\tfunction setDefaultFieldStyles() {\n\t\t$elements.fields.css('outline', '' );\n\t}\n\n\treturn {\n\t\tinit: init,\n\t\tapplyStyles: applyStyles\n\t}\n\n};\n\n\nmodule.exports = FormPreview;\n\n},{\"./_option.js\":4}],4:[function(require,module,exports){\n'use strict';\n\nvar Option = function( element ) {\n\tthis.element = element;\n\tthis.$element = window.jQuery(element);\n};\n\nOption.prototype.getColorValue = function() {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\tif( this.element.className.indexOf('wp-color-picker') !== -1) {\n\t\t\treturn this.$element.wpColorPicker('color');\n\t\t} else {\n\t\t\treturn this.element.value;\n\t\t}\n\t}\n\n\treturn '';\n};\n\nOption.prototype.getPxOrPercentageValue = function(fallback) {\n\tvar value = this.element.value.trim();\n\n\tif( value.length > 0 ) {\n\t\tif( value.substring(value.length-2, value.length) !== 'px' && value.substring(value.length-1, value.length) !== '%') {\n\t\t\tvalue = parseInt(value) + 'px';\n\t\t}\n\t\treturn value;\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.getPxValue = function(fallback) {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\treturn parseInt( this.element.value ) + \"px\";\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.getValue = function(fallback) {\n\tthis.element.value = this.element.value.trim();\n\n\tif( this.element.value.length > 0 ) {\n\t\treturn this.element.value;\n\t}\n\n\treturn fallback || '';\n};\n\nOption.prototype.clear = function() {\n\tthis.element.value = '';\n};\n\nOption.prototype.setValue = function(value) {\n\tthis.element.value = value;\n};\n\nmodule.exports = Option;\n},{}],5:[function(require,module,exports){\n'use strict';\n\nvar $ = window.jQuery;\nvar Accordion = require('./_accordion.js');\nvar FormPreview = require('./_form-preview.js');\n\nvar iframeElement = document.getElementById('mc4wp-css-preview');\nvar preview;\nvar $imageUploadTarget;\nvar original_send_to_editor = window.send_to_editor;\nvar accordion;\n\n// init\npreview = new FormPreview( iframeElement );\n$(iframeElement).load(function() {\n\tpreview.init();\n\tpreview.applyStyles();\n});\n\n// turn settings page into accordion\naccordion = new Accordion(document.querySelector('.mc4wp-accordion'));\n\n// show generated CSS button\n$(\".mc4wp-show-css\").click(function() {\n\tvar $generatedCss = $(\"#mc4wp_generated_css\");\n\t$generatedCss.toggle();\n\tvar text = ( $generatedCss.is(':visible') ? 'Hide' : 'Show' ) + \" generated CSS\";\n\t$(this).text(text);\n});\n\n$(\".mc4wp-form-select\").change( function() {\n\t$(this).parents('form').submit();\n});\n\n// show thickbox when clicking on \"upload-image\" buttons\n$(\".upload-image\").click( function() {\n\t$imageUploadTarget = $(this).siblings('input');\n\ttb_show('', 'media-upload.php?type=image&TB_iframe=true');\n});\n\n$(\"#form-css-settings\").change(function() {\n\tthis.checkValidity();\n})\n\n// attach handler to \"send to editor\" button\nwindow.send_to_editor = function(html){\n\tif( $imageUploadTarget ) {\n\t\tvar imgurl = $(html).attr('src'); // $('img',html).attr('src');\n\t\t$imageUploadTarget.val(imgurl);\n\t\ttb_remove();\n\t} else {\n\t\toriginal_send_to_editor(html);\n\t}\n\n\tpreview.applyStyles();\n};\n\n},{\"./_accordion.js\":2,\"./_form-preview.js\":3}]},{},[5]);\n })();"]}